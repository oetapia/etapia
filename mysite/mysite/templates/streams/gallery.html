{% load wagtailimages_tags %}
<div class="{%if self.full_width%}container-full {%else%} container{%endif%}">
    {% if self.title %}
    <div class="row ">
      <div class="col">
        <h3 class="my-3">Gallery</h3>
      </div><!-- col -->
    </div><!-- row -->
    {% endif %}
    
    <div class="row gallery text-center mb-5 animate"  data-toggle="modal" data-target="#navgalmod">
        {% for item in items  %}
            <div class="col-6 mb-3">
                {% image item.image fill-200x200 as img%}
                <a class="" href="#{{ forloop.counter0 }}" data-target="#navgalnav" data-slide-to="{{ forloop.counter0 }}">
                  <img class="img-fluid" src="{{img.url}}" alt="img.alt" />
                </a>
            </div><!-- end card -->
        {% endfor %}{#card#}
    </div><!-- end row -->
</div><!-- container -->                


<!-- Modal -->
<!-- 
This part is straight out of Bootstrap docs. Just a carousel inside a modal.
-->
<div class="modal fade" id="navgalmod" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-body p-1">
       <button type="button" class="close position-absolute" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div id="navgalnav" class="carousel slide" data-ride="carousel">
          
           <ol class="carousel-indicators">
                {% for item in items  %}
                    <li data-target="#navgal" data-slide-to="{{ forloop.counter0 }}" 
                    class="{% if forloop.counter0 == 0 %}active{% endif %}">
                    </li>
                {% endfor %}{#carousel indicators#}
            </ol>
                
          <div class="carousel-inner">
                 {% for item in items  %}
                    <div class="carousel-item {% if forloop.counter0 == 0 %}active{% endif %}">
                         {% image item.image width-1200 as img%}
                        <img class="d-block w-100" src="{{img.url}}"  alt="{{img.alt}}">
                    </div><!-- carousel item -->
                {% endfor %}{#carousel items#} 
          </div><!-- carousel inner -->
          <a class="carousel-control-prev" href="#navgalnav" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#navgalnav" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
